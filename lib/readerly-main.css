/*readerly-main.css
* 
* Refer to main display script (currently ReaderlyDisplay.js
* on 12/20/16) for DOM structure.
* 
* Affects mostly main display, but also others.
* 
* TODO:
* - Implement more robust hiding. (jQuery .hide type thing atm)
* - More robust defaults.
*/

/* ============================== */
/* STRUCTURE */
/* ============================== */
#__rdly,
#__rdly * {
	box-sizing: border-box;
}

#__rdly {
	display: block;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	transition: top 100ms linear;
	z-index: 4300200100;
}

/* Should be top and bottom instead? */
#__rdly #__rdly_above_bar,
#__rdly #__rdly_below_bar {
	position: relative;
	width: 100%;
}

#__rdly #__rdly_above_bar {
	top: 0;
	/* function */
	z-index: 50;
}

#__rdly_progress {
	position: relative;
	height: 5px;
	width: 100%;
}
#__rdly_percent_done {
	position: relative;
	height: 100%;
	width: 0;
	transition: width 200ms linear;
}

#__rdly #__rdly_below_bar {
	top: 100%;
}

#__rdly #__rdly_bar {
	width: 100%;
	/* ??: Will this work if font-size is declared lower down? */
	height: 2em;
	/* For absolutely positioned children */
	position: relative;
	text-align: center;
}

/* ??: Generalize positions? Left, right, top, bottom, center, middle? */
#__rdly .__rdly-bar-left,
#__rdly .__rdly-bar-center,
#__rdly .__rdly-bar-right {
	/* vertically centered without flexbox */
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	padding: 0.75%;
	height: 100%;
	display: flex;
	align-items: center;
	align-content: center;
	justify-content: center;
}
#__rdly .__rdly-bar-left {
	left: 0;
}
#__rdly .__rdly-bar-center {
	/* TODO: Width should be calculated based on max word length */
	width: 15em;
	height: 100%;
	text-align: center;
}
#__rdly .__rdly-bar-right {
	right: 0;
}
#__rdly #__rdly_close {
	align-self: flex-start;
}

#__rdly .__rdly-indicator {
	/* Don't get in the way of text */
	position: absolute;
	z-index: -10;
}

#__rdly .__rdly-loading {
	/* Can't be centered with transform because transform is used to rotate it */
	/* Horizontally centered by parent text-align */
	display: inline-block;
	position: absolute;
	top: 0;
	width: 2em;
	height: 2em;
}
#__rdly .__rdly-rotating {
    -webkit-animation:spin 4s linear infinite;
    -moz-animation:spin 4s linear infinite;
    animation:spin 4s linear infinite;
}
@-moz-keyframes spin {
	100%
	{ -moz-transform: rotate(360deg); }
}
@-webkit-keyframes spin {
	100%
	{ -webkit-transform: rotate(360deg); }
}
@keyframes spin {
	100%
	{ transform:rotate(360deg); }
}

/* Horizontally and vertically centered without flexbox */
/* Comes last to take precedence */
#__rdly .__rdly-transform-centered {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate( -50% ,-50% );
}


/* ============================== */
/* SKIN */
/* ============================== */
#__rdly div,
#__rdly span,
#__rdly a,
#__rdly li {
	/* font defaults from chrome inspection */
	font-family: "droid", serif;
	font-size: 16px;
	line-height: normal;
	font-style: normal;
	font-weight: normal;
	font-variant: none;
	font-stretch: normal;
	font-feature-settings: normal;
	font-kerning: auto;
	-webkit-font-smoothing: auto;
	text-transform: none;
}

#__rdly {
	border: 1px solid gray;
	border-left: 0;
	border-right: 0;
	background-color: rgba(250, 250, 250, 1);
}

#__rdly_progress {
	border-bottom: 1px solid gray;
}
#__rdly_percent_done {
	background-color: #3498db;
}

#__rdly #__rdly_bar,
#__rdly #__rdly_bar div,
#__rdly #__rdly_bar span,
#__rdly #__rdly_bar a,
#__rdly #__rdly_bar li {
	font-size: 36px;
}

#__rdly .__rdly-indicator {
	width: 2px;
	height: 1.15em;
	background-color: rgba( 190, 190, 190, 1 );
}

#__rdly .__rdly-loading {
	fill: rgba( 150, 150, 150, 1 );
	/* temp for visibility before icon is chosen */
	border: 1px solid gray;
}



/* ============================== */
/* FUNCTION */
/* ============================== */

#__rdly .__rdly-hidden {
	display: none;
}
